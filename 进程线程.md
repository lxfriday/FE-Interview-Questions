# 进程、线程

## 进程
- 进程作为**资源分配**的基本单位，它是程序执行时的一个实例。程序运行时系统就会创建一个进程，并为它分配资源，然后把该进程放入进程就绪队列，进程调度器选中它的时候就会为它分配 CPU 时间，程序开始真正执行
- 运行中的进程可能拥有以下三种基本状态
    - 就绪状态（Ready）
    - 运行状态（Running）
    - 阻塞状态（Blocked）

## 线程
- 线程是程序执行时的最小单位，它是进程的一个执行流，线程是 CPU **调度和分派**的基本单位
- 线程比进程小，基本上不拥有系统资源，故对它所付出的开销就会小很多

## 区别联系
- 进程有自己的独立地址空间，每启动一个进程，系统就会为它分配地址空间，建立数据表来维护代码段、堆栈段和数据段，这种操作非常昂贵
- 线程是共享进程中的数据的，使用相同的地址空间，因此 CPU 切换一个线程的花销比进程小很多，同时创建线程的开销也会小很多
- 线程之间的通信更方便，同一进程下的线程共享全局变量、静态变量等数据，而进程之间的通信需要以通信的方式（IPC)进行
- 但是多进程程序更健壮，多线程程序只要有一个线程死掉，整个进程也死掉了，而一个进程死掉并不会对另外一个进程造成影响，因为进程有自己独立的地址空间
- [进程与线程的一个简单解释](http://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html)
    - Mutext（Mutual exclusion） 互斥锁，防止多个线程同时读写某一块内存区域
    - Semaphore 信号量，保证多个线程不会相互冲突
    - mutex 是 semaphore 的一种特殊情况（n=1时）
    - 操作系统的设计可以归结为三点
        - 以多进程形式，允许多个任务同时运行
        - 以多线程形式，允许单个任务分成不同的部分运行
        - 提供协调机制，一方面防止进程之间和线程之间产生冲突，另一方面允许进程之间和线程之间共享资源

## 参考
- [进程（百度百科）](https://baike.baidu.com/item/%E8%BF%9B%E7%A8%8B/382503?fr=aladdin)
- [一道面试题：说说进程和线程的区别](https://www.cnblogs.com/zhehan54/p/6130030.html)
- [进程与线程的一个简单解释](http://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html)
